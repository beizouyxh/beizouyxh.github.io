<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 之数据类型 | 北走的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.957315a2.css" as="style"><link rel="preload" href="/assets/js/app.8852ea87.js" as="script"><link rel="preload" href="/assets/js/2.4650da32.js" as="script"><link rel="preload" href="/assets/js/26.3909a8c5.js" as="script"><link rel="prefetch" href="/assets/js/10.0c944c6a.js"><link rel="prefetch" href="/assets/js/11.e516ee82.js"><link rel="prefetch" href="/assets/js/12.6b960f53.js"><link rel="prefetch" href="/assets/js/13.56e593e5.js"><link rel="prefetch" href="/assets/js/14.94bff529.js"><link rel="prefetch" href="/assets/js/15.d5a82768.js"><link rel="prefetch" href="/assets/js/16.b2935eef.js"><link rel="prefetch" href="/assets/js/17.f0292fb1.js"><link rel="prefetch" href="/assets/js/18.0dbd9c93.js"><link rel="prefetch" href="/assets/js/19.9f0a8a54.js"><link rel="prefetch" href="/assets/js/20.230c81a5.js"><link rel="prefetch" href="/assets/js/21.32025ae8.js"><link rel="prefetch" href="/assets/js/22.49c038f7.js"><link rel="prefetch" href="/assets/js/23.4750946a.js"><link rel="prefetch" href="/assets/js/24.0ab28450.js"><link rel="prefetch" href="/assets/js/25.29bc4bae.js"><link rel="prefetch" href="/assets/js/27.b68349d0.js"><link rel="prefetch" href="/assets/js/28.4fc2490b.js"><link rel="prefetch" href="/assets/js/29.a7e83f30.js"><link rel="prefetch" href="/assets/js/3.cc6640f5.js"><link rel="prefetch" href="/assets/js/30.464a820b.js"><link rel="prefetch" href="/assets/js/31.e676e3db.js"><link rel="prefetch" href="/assets/js/32.3d1d70b0.js"><link rel="prefetch" href="/assets/js/33.44ea0f45.js"><link rel="prefetch" href="/assets/js/34.700259bd.js"><link rel="prefetch" href="/assets/js/35.87bbffed.js"><link rel="prefetch" href="/assets/js/36.d6bf86af.js"><link rel="prefetch" href="/assets/js/37.95e5afb8.js"><link rel="prefetch" href="/assets/js/38.c491b528.js"><link rel="prefetch" href="/assets/js/4.d6d5ac09.js"><link rel="prefetch" href="/assets/js/5.7478c3f9.js"><link rel="prefetch" href="/assets/js/6.3f5e8971.js"><link rel="prefetch" href="/assets/js/7.f5d551b7.js"><link rel="prefetch" href="/assets/js/8.112e35f8.js"><link rel="prefetch" href="/assets/js/9.de436588.js">
    <link rel="stylesheet" href="/assets/css/0.styles.957315a2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="北走的博客" class="logo"> <span class="site-name can-hide">北走的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/" class="nav-link router-link-active">
  个人学习
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/beizouyxh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="博文" class="dropdown-title"><span class="title">博文</span> <span class="arrow down"></span></button> <button type="button" aria-label="博文" class="mobile-dropdown-title"><span class="title">博文</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/" class="nav-link router-link-active">
  个人学习
</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><a href="https://github.com/beizouyxh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/CSS/center.html" class="sidebar-link">水平垂直居中</a></li><li><a href="/study/CSS/3len.html" class="sidebar-link">CSS 之三栏布局</a></li><li><a href="/study/CSS/position.html" class="sidebar-link">Position</a></li><li><a href="/study/CSS/2len.html" class="sidebar-link">两栏布局</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/javaScript/article1.html" aria-current="page" class="active sidebar-link">JavaScript 之数据类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/study/javaScript/article2.html" class="sidebar-link">js 之作用域和闭包</a></li><li><a href="/study/javaScript/article3.html" class="sidebar-link">Javascript 异步</a></li><li><a href="/study/javaScript/article4.html" class="sidebar-link">JS中this的指向</a></li><li><a href="/study/javaScript/flatten.html" class="sidebar-link">数组扁平化</a></li><li><a href="/study/javaScript/extends.html" class="sidebar-link">JS 之继承</a></li><li><a href="/study/javaScript/promise.html" class="sidebar-link">Promise</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/react/article1.html" class="sidebar-link">React 与 Vue 的生命周期</a></li><li><a href="/study/react/article2.html" class="sidebar-link">React知识点</a></li><li><a href="/study/react/article3.html" class="sidebar-link">React</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/Vue/acticle1.html" class="sidebar-link">Vue 知识点</a></li><li><a href="/study/Vue/acticle2.html" class="sidebar-link">React 与 Vue</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/Browser/article1.html" class="sidebar-link">浏览器工作原理之渲染流程</a></li><li><a href="/study/Browser/article2.html" class="sidebar-link">前端之性能优化方法</a></li><li><a href="/study/Browser/article3.html" class="sidebar-link">WebSocket</a></li><li><a href="/study/Browser/article4.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/study/Browser/article5.html" class="sidebar-link">跨域</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/Git/git.html" class="sidebar-link">git</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>面经系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/interview/360.html" class="sidebar-link">360面试题</a></li><li><a href="/study/interview/liang.html" class="sidebar-link">凉经</a></li><li><a href="/study/interview/tuya.html" class="sidebar-link">涂鸦智能凉经</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>WebPack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/Webpack/article1.html" class="sidebar-link">Webpack</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>网络系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/network/article1.html" class="sidebar-link">Cookie,Session,Token, JWT</a></li><li><a href="/study/network/article2.html" class="sidebar-link">TCP 的三次握手和四次挥手</a></li><li><a href="/study/network/http.html" class="sidebar-link">HTTP 知识点</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript-之数据类型"><a href="#javascript-之数据类型" class="header-anchor">#</a> JavaScript 之数据类型</h1> <h3 id="基本类型"><a href="#基本类型" class="header-anchor">#</a> 基本类型</h3> <p>基本类型分为以下六种：</p> <ul><li>string（字符串）</li> <li>boolean（布尔值）</li> <li>number（数字）</li> <li>symbol（符号）</li> <li>null（空值）</li> <li>undefined（未定义）</li> <li>bigint</li></ul> <p><strong>注意</strong>：</p> <ol><li>string 、<code>number</code> 、<code>boolean</code> 和 <code>null</code> <code>undefined</code> 这五种类型统称为<strong>原始类型</strong>（Primitive），表示不能再细分下去的基本类型;</li> <li><code>symbol</code>是ES6中新增的数据类型，<code>symbol</code> 表示独一无二的值，通过 <code>Symbol</code> 函数调用生成，由于生成的 symbol 值为原始类型，所以 <code>Symbol</code> 函数不能使用<code>new</code> 调用；</li> <li><code>null</code> 和 <code>undefined</code> 通常被认为是特殊值，这两种类型的值唯一，就是其本身。</li></ol> <p><strong>数字类型</strong></p> <p>根据 ECMAScript 标准，JavaScript 中只有一种数字类型：基于 IEEE 754 标准的双精度 64 位二进制格式的值（-(263 -1) 到 263 -1）。它并没有为整数给出一种特定的类型。除了能够表示浮点数外，还有一些带符号的值：+Infinity，-Infinity 和 NaN (非数值，Not-a-Number)。</p> <p><code>Number</code>运算符转换规则：</p> <ul><li><code>null</code> 转换为 0</li> <li><code>undefined</code> 转换为 <code>NaN</code></li> <li><code>true</code> 转换为 1，<code>false</code> 转换为 0</li> <li>字符串转换时遵循数字常量规则，转换失败返回<code>NaN</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 0                           parseInt(null) // =&gt; NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; NaN         parseInt(undefined) // =&gt; NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 0                                 parseInt('') // =&gt; NaN</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; 123                    parseInt('123') // =&gt; 123</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'123abc'</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; NaN            parseInt('123abc') // =&gt; 123</span>
</code></pre></div><h4 id="_0-1-0-2-为什么不等于-0-3"><a href="#_0-1-0-2-为什么不等于-0-3" class="header-anchor">#</a> 0.1+0.2 为什么不等于 0.3？</h4> <p>0.1 和 0.2 在转换成二进制后会无限循环，由于标准位数的限制，后面多余的位数会被截掉，此时就已经出现可精度的损失，相加后因为浮点数小数位的限制而截断的二进制数字再次转换为十进制就会变成 0.300000000000004...
参考资料：冴羽大神掘金文章👉https://juejin.im/post/5e6ee1b5f265da5710439f21</p> <h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <p><code>String</code> 运算符转换规则</p> <ul><li><code>null</code> 转换为 <code>'null'</code></li> <li><code>undefined</code> 转换为 <code>undefined</code></li> <li><code>true</code> 转换为 <code>'true'</code>，<code>false</code> 转换为 <code>'false'</code></li> <li>数字转换遵循通用规则，极大极小的数字使用指数形式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">String(null)         // 'null'

String(undefined)      // 'undefined'

String(true)         // 'true'

String(1)          // '1'

String(-1)          // '-1'

String(0)          // '0'

String(-0)          // '0'

String(Math.pow(1000,10))  // '1e+30'

String(Infinity)       // 'Infinity'

String(-Infinity)      // '-Infinity'

String({})          // '[object Object]'

String([1,[2,3]])      // '1,2,3'

String(['koala',1])     //koala,1</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><h3 id="boolean"><a href="#boolean" class="header-anchor">#</a> Boolean</h3> <p><code>ToBoolean</code> 运算符转换规则</p> <p>除了下述 6 个值转换结果为 <code>false</code>，其他全部为<code>true</code>：</p> <ol><li>undefined</li> <li>null</li> <li>-0</li> <li>0或+0</li> <li>NaN</li> <li>''（空字符串）</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token comment">// false</span>



<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>Null 类型</strong></p> <p>Null 类型只有一个值： null。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">null</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// object 为什么不是 null呢？</span>
</code></pre></div><p>解释：typeof null 会输出 object，但 null 本身不是一个对象，这是 JS 存在的一个历史悠久的 bug。在 JS 的最初版本中使用的是 32 位的系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表的是对象，而 null 表示为全空，所以将它错误地判断成了 object
**解决：**可以使用 Object.prototype.toString.call(null) -&gt; 输出 [object Null]</p> <p><strong>Undefined 类型</strong></p> <p>一个没有被赋值的变量会有个默认值 undefined。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a<span class="token punctuation">;</span> <span class="token comment">// 我申明我是一个变量 a</span>
<span class="token keyword">typeof</span> a<span class="token punctuation">;</span> <span class="token comment">// undefined 申明未赋值</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><p><strong>符号类型</strong></p> <p>符号(Symbols)是ECMAScript 第6版新定义的。符号类型是唯一的并且是不可修改的, 并且也可以用来作为Object的key的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> symbol1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> symbol2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">typeof</span> symbol1<span class="token punctuation">;</span> <span class="token comment">// symbol</span>
<span class="token keyword">typeof</span> symbol2<span class="token punctuation">;</span> <span class="token comment">// symbol</span>

symbol1 <span class="token operator">==</span> symbol2<span class="token punctuation">;</span> <span class="token comment">// false</span>

obj<span class="token punctuation">.</span>symbol1 <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span>symbol1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'world'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>symbol1 <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> obj<span class="token punctuation">[</span>symbol1<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world</span>
</code></pre></div><h3 id="对象类型"><a href="#对象类型" class="header-anchor">#</a> 对象类型</h3> <p><strong>object</strong>  对象类型也叫引用类型，对象 Object(包括普通对象-Object，数组对象-Array，正则对象-RegExp，日期对象-Date，数学函数-Math，函数对象-Function)。对象在逻辑上是属性的无序集合，是存放各种值的容器。对象值存储的是引用地址，所以和基本类型值不可变的特性不同，对象值是可变的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 对象字面量</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 实例化一个对象</span>

<span class="token keyword">typeof</span> obj1<span class="token punctuation">;</span> <span class="token comment">// object</span>
<span class="token keyword">typeof</span> obj2<span class="token punctuation">;</span> <span class="token comment">// object</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> author<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;布一&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wechat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hankewins&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;No.1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>author<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 布一</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>author<span class="token punctuation">.</span>wechat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hankewins</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// No.1</span>
</code></pre></div><h3 id="类型对比"><a href="#类型对比" class="header-anchor">#</a> 类型对比</h3> <p>我们都知道JavaScript中有两大数据类型：<code>基本类型</code>和<code>引用类型</code>，其中<code>基本类型</code>主要是把值存储在<code>栈内存</code>中，而<code>引用类型</code>却是把地址存储在<code>栈内存</code>中，把值存储在<code>堆内存</code>中，然后将<code>栈内存</code>中存储的地址指向<code>堆内存</code>中存储的值。</p> <h1 id="js中的强制转换规则"><a href="#js中的强制转换规则" class="header-anchor">#</a> js中的强制转换规则</h1> <h3 id="toprimitive-转换为原始值"><a href="#toprimitive-转换为原始值" class="header-anchor">#</a> <code>ToPrimitive</code>(转换为原始值)</h3> <p><code>ToPrimitive</code>对原始类型不发生转换处理，只<strong>针对引用类型（object）的</strong>，其目的是将引用类型（object）转换为非对象类型，也就是原始类型。</p> <h1 id="js转换规则不同场景应用"><a href="#js转换规则不同场景应用" class="header-anchor">#</a> js转换规则不同场景应用</h1> <h3 id="什么时候自动转换为string类型"><a href="#什么时候自动转换为string类型" class="header-anchor">#</a> 什么时候自动转换为string类型</h3> <p><strong>在没有对象的前提下</strong></p> <p>字符串的自动转换，主要发生在字符串的<strong>加法运算</strong>时。当一个值为字符串，另一个值为非字符串，则后者转为字符串。</p> <p>'2' + 1 // '21'</p> <p>'2' + true // &quot;2true&quot;</p> <p>'2' + false // &quot;2false&quot;</p> <p>'2' + undefined // &quot;2undefined&quot;</p> <p>'2' + null // &quot;2null&quot;</p> <p><strong>当有对象且与对象<code>+</code>时候</strong></p> <p>//toString的对象</p> <p>var obj2 = {</p> <p>toString:function(){</p> <p>​    return 'a'</p> <p>}</p> <p>}</p> <p>console.log('2'+obj2)</p> <p>//输出结果2a</p> <p>//常规对象</p> <p>var obj1 = {</p> <p>a:1,</p> <p>b:2</p> <p>}</p> <p>console.log('2'+obj1)；</p> <p>//输出结果 2[object Object]</p> <p>//几种特殊对象</p> <p>'2' + {} // &quot;2[object Object]&quot;</p> <p>'2' + [] // &quot;2&quot;</p> <p>'2' + function (){} // &quot;2function (){}&quot;</p> <p>'2' + ['koala',1] // 2koala,1</p> <p>对下面<code>'2'+obj2</code>详细举例说明如下：</p> <ol><li>左边为<code>string</code>，<code>ToPrimitive</code>原始值转换后不发生变化</li> <li>右边转化时同样按照<code>ToPrimitive</code>进行原始值转换，由于指定的type是<code>number</code>，进行<code>ToPrimitive</code>转化调用<code>obj2.valueof()</code>,得到的不是原始值，进行第三步</li> <li>调用<code>toString()</code> <code>return 'a'</code></li> <li>符号两边存在<code>string</code>，而且是<code>+</code>号运算符则都采用<code>String</code>规则转换为<code>string</code>类型进行拼接</li> <li>输出结果<code>2a</code></li></ol> <p>对下面<code>'2'+obj1</code>详细举例说明如下：</p> <ol><li>左边为<code>string</code>，<code>ToPrimitive</code>转换为原始值后不发生变化</li> <li>右边转化时同样按照<code>ToPrimitive</code>进行原始值转换，由于指定的type是<code>number</code>，进行<code>ToPrimitive</code>转化调用<code>obj2.valueof()</code>,得到<code>{ a: 1, b: 2 }</code></li> <li>调用<code>toString()</code> <code>return [object Object]</code></li> <li>符号两边存在<code>string</code>，而且是+号运算符则都采用<code>String</code>规则转换为<code>string</code>类型进行拼接</li> <li>输出结果<code>2[object Object]</code></li></ol> <h3 id="什么时候自动转换为number类型"><a href="#什么时候自动转换为number类型" class="header-anchor">#</a> 什么时候自动转换为Number类型</h3> <p><strong>有加法运算符，但是无<code>String</code>类型的时候，都会优先转换为<code>Number</code>类型</strong></p> <p>true + 0           // 1</p> <p>true + true     // 2</p> <p>true + false   //1</p> <p><strong>除了加法运算符，其他运算符都会把运算自动转成数值</strong></p> <p>'5' - '2' // 3</p> <p>'5' * '2' // 10</p> <p>true - 1 // 0</p> <p>false - 1 // -1</p> <p>'1' - 1  // 0</p> <p>'5' * []  // 0</p> <p>false / '5' // 0</p> <p>'abc' - 1  // NaN</p> <p>null + 1 // 1</p> <p>undefined + 1 // NaN</p> <p>//一元运算符（注意点）</p> <p>+'abc' // NaN</p> <p>-'abc' // NaN</p> <p>+true // 1</p> <p>-false // 0</p> <h3 id="什么时候进行布尔转换"><a href="#什么时候进行布尔转换" class="header-anchor">#</a> 什么时候进行布尔转换</h3> <ul><li>布尔比较时</li> <li><code>if(obj)</code> , <code>while(obj)</code>等判断时或者 三元运算符只能够包含布尔值</li></ul> <p>条件部分的每个值都相当于<code>false</code>，使用否定运算符后，就变成了<code>true</code></p> <p>if ( !undefined</p> <p>&amp;&amp; !null</p> <p>&amp;&amp; !0</p> <p>&amp;&amp; !NaN</p> <p>&amp;&amp; !''</p> <p>) {</p> <p>console.log('true');</p> <p>} // true</p> <p>//下面两种情况也会转成布尔类型</p> <p>expression ? true : false</p> <p>!! expression</p> <h1 id="js中的数据类型判断"><a href="#js中的数据类型判断" class="header-anchor">#</a> js中的数据类型判断</h1> <p>三种方式，分别为 <code>typeof</code>、<code>instanceof</code> 和<code>Object.prototype.toString()</code></p> <h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <p>通过 <code>typeof</code>操作符来判断一个值属于哪种基本类型</p> <p>typeof 'seymoe'  // 'string'</p> <p>typeof true    // 'boolean'</p> <p>typeof 10     // 'number'</p> <p>typeof Symbol()  // 'symbol'</p> <p>typeof null    // 'object' 无法判定是否为 null</p> <p>typeof undefined  // 'undefined'</p> <p>typeof {}      // 'object'</p> <p>typeof []      // 'object'</p> <p>typeof(() =&gt; {})  // 'function</p> <p>上面代码的输出结果可以看出，</p> <ol><li><code>null</code> 的判定有误差，得到的结果 如果使用 <code>typeof</code>，<code>null</code>得到的结果是<code>object</code></li> <li>操作符对对象类型及其子类型，例如函数（可调用对象）、数组（有序索引对象）等进行判定，则除了函数都会得到 <code>object</code> 的结果。</li></ol> <p>综上可以看出<code>typeOf</code>对于判断类型还有一些不足，在对象的子类型和<code>null</code>情况下。</p> <h3 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h3> <p>通过 <code>instanceof</code> 操作符也可以对对象类型进行判定，其原理就是测试构造函数的<code>prototype</code> 是否出现在被检测对象的原型链上。</p> <p>[] <strong>instanceof</strong> Array            // true</p> <p>({}) <strong>instanceof</strong> Object         // true</p> <p>(()=&gt;{}) <strong>instanceof</strong> Function   // true</p> <p><code>instanceof</code> 也不是万能的。 举个例子：</p> <p>let arr = []</p> <p>let obj = {}</p> <p>arr instanceof Array  // true</p> <p>arr instanceof Object  // true</p> <p>obj instanceof Object  // true</p> <p>在这个例子中，<code>arr</code> 数组相当于 <code>new Array()</code> 出的一个实例，所以 <code>arr.__proto__ === Array.prototype</code>，又因为 <code>Array</code>属于 <code>Object</code> 子类型，即<code>Array.prototype.__proto__ === Object.prototype</code>，因此 <code>Object</code> 构造函数在 <code>arr</code> 的原型链上。所以 <code>instanceof</code> 仍然无法优雅的判断一个值到底属于数组还是普通对象。</p> <p>还有一点需要说明下，有些开发者会说 <code>Object.prototype.__proto__ === null</code>，岂不是说 <code>arr instanceof null</code> 也应该为 <code>true</code>，这个语句其实会报错提示右侧参数应该为对象，这也印证 <code>typeof null</code> 的结果为 <code>object</code> 真的只是<code>javascript</code>中的一个<code>bug</code> 。</p> <p><code>Object.prototype.toString()</code> 可以说是判定 <code>JavaScript</code> 中数据类型的终极解决方法了，具体用法请看以下代码：</p> <p>Object.prototype.toString.call({})       // '[object Object]'</p> <p>Object.prototype.toString.call([])       // '[object Array]'</p> <p>Object.prototype.toString.call(() =&gt; {})    // '[object Function]'</p> <p>Object.prototype.toString.call('seymoe')    // '[object String]'</p> <p>Object.prototype.toString.call(1)        // '[object Number]'</p> <p>Object.prototype.toString.call(true)      // '[object Boolean]'</p> <p>Object.prototype.toString.call(Symbol())    // '[object Symbol]'</p> <p>Object.prototype.toString.call(null)      // '[object Null]'</p> <p>Object.prototype.toString.call(undefined)    // '[object Undefined]'</p> <p>Object.prototype.toString.call(new Date())   // '[object Date]'</p> <p>Object.prototype.toString.call(Math)      // '[object Math]'</p> <p>Object.prototype.toString.call(new Set())    // '[object Set]'</p> <p>Object.prototype.toString.call(new WeakSet())  // '[object WeakSet]'</p> <p>Object.prototype.toString.call(new Map())    // '[object Map]'</p> <p>Object.prototype.toString.call(new WeakMap())  // '[object WeakMap]'</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/10/2020, 9:34:33 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study/CSS/2len.html" class="prev">
        两栏布局
      </a></span> <span class="next"><a href="/study/javaScript/article2.html">
        js 之作用域和闭包
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8852ea87.js" defer></script><script src="/assets/js/2.4650da32.js" defer></script><script src="/assets/js/26.3909a8c5.js" defer></script>
  </body>
</html>
